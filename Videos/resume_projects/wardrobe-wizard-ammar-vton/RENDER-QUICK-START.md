# Quick Start: Deploy to Render

## What's Been Configured

✅ **render.yaml** - Blueprint for automatic deployment  
✅ **Production-ready server.js** - Serves React app in production  
✅ **Environment variables** - All hardcoded URLs replaced  
✅ **Python server** - Updated for production with gunicorn  
✅ **Production scripts** - Added `start:server` script  

## Quick Deployment Steps

### Option 1: Using render.yaml (Easiest)

1. **Push to GitHub**: Make sure all changes are committed and pushed
   ```bash
   git add .
   git commit -m "Prepare for Render deployment"
   git push
   ```

2. **Go to Render Dashboard**: https://dashboard.render.com
   - Click "New +" → "Blueprint"
   - Connect your GitHub repository
   - Render will auto-detect `render.yaml`

3. **Set Environment Variables** in Render dashboard:
   
   **For Backend Service:**
   - `MONGO_URI` = Your MongoDB connection string (from MongoDB Atlas)
   - `JWT_SECRET` = (Auto-generated by Render)
   
   **For Python Service:**
   - `RAPIDAPI_KEY` = Your RapidAPI key

4. **Deploy**: Click "Apply" and wait for deployment

### Option 2: Manual Deployment (More Control)

See `README-DEPLOYMENT.md` for detailed step-by-step instructions.

## Required Environment Variables

### Backend Service (`wardrobe-wizard-backend`)
- `MONGO_URI` - MongoDB connection string (REQUIRED)
- `JWT_SECRET` - Secret key for JWT tokens (auto-generated)
- `NODE_ENV` - Set to `production` (auto-set)
- `PORT` - Set to `10000` (auto-set by Render)

### Python Service (`wardrobe-wizard-python`)
- `RAPIDAPI_KEY` - Your RapidAPI key (REQUIRED)
- `PORT` - Set to `10000` (auto-set by Render)

### Frontend (if deploying separately)
- `REACT_APP_API_URL` - Backend service URL
- `REACT_APP_PYTHON_API_URL` - Python service URL

## Important Notes

1. **MongoDB Setup**: 
   - Sign up at https://www.mongodb.com/cloud/atlas
   - Create a free cluster
   - Get connection string
   - Whitelist IP: `0.0.0.0/0` (allows all IPs)

2. **Free Tier Limitations**:
   - Services spin down after 15 min inactivity
   - First request after spin-down takes 30-60 seconds
   - Consider paid plan for production

3. **Service URLs**:
   - Backend: `https://wardrobe-wizard-backend.onrender.com`
   - Python: `https://wardrobe-wizard-python.onrender.com`
   - Frontend: Served by backend at backend URL

4. **Build Time**: First deployment takes 5-10 minutes

## Testing After Deployment

1. Check health endpoint: `https://your-backend-url.onrender.com/api/health`
2. Test API: `https://your-backend-url.onrender.com/api/products`
3. Visit frontend: `https://your-backend-url.onrender.com`

## Troubleshooting

- **Build fails**: Check build logs in Render dashboard
- **Can't connect to MongoDB**: Verify MONGO_URI and IP whitelist
- **CORS errors**: Backend has CORS enabled, should work
- **Python service fails**: Check RAPIDAPI_KEY is set correctly

## Next Steps

1. Set up MongoDB Atlas account
2. Get RapidAPI key (if you don't have one)
3. Deploy using render.yaml
4. Set environment variables
5. Test your deployed application!

For detailed instructions, see `README-DEPLOYMENT.md`

